<div class="top-nav">
    <button class="icon-button" data-action="backToDashboard"><i class="fas fa-chevron-left"></i></button>
    <span>Lesrooster Bouwer</span>
    <button class="icon-button"><i class="fas fa-ellipsis-v"></i></button>
</div>
<div class="p-4 flex flex-col md:flex-row gap-4 h-[calc(100vh-120px)]">
    <!-- Zijbalk voor beschikbare lessen -->
    <div class="sidebar bg-gray-900 p-4 rounded-lg shadow-md md:w-1/4 flex-shrink-0 overflow-y-auto">
        <h2 class="text-xl font-bold text-gray-100 mb-4">Beschikbare Lessen</h2>

        <div class="category-select-container mb-4">
            <label for="lessonCategorySelect" class="block text-sm font-medium text-gray-400 mb-1">Kies Sportsectie:</label>
            <select id="lessonCategorySelect" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200 w-full">
                <option value="all">Alle Categorieën</option>
                <option value="fitness">Fitness</option>
                <option value="budo">Budo</option>
                <option value="dance">Dans</option>
                <option value="swim">Zwemmen</option>
                <option value="group">Groepslessen</option>
                <!-- Meer categorieën kunnen hier worden toegevoegd -->
            </select>
        </div>

        <div id="availableLessonsList" class="flex flex-col gap-2">
            <!-- Lessen worden hier dynamisch geladen -->
            <p class="text-gray-400 text-sm">Geen lessen beschikbaar.</p>
        </div>

        <h3 class="text-lg font-bold text-gray-100 mt-6 mb-2">Nieuwe Les Toevoegen</h3>
        <form id="newLessonForm" class="flex flex-col gap-2">
            <input type="text" id="newLessonName" placeholder="Lesnaam" required class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            <select id="newLessonCategory" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
                <option value="fitness">Fitness</option>
                <option value="budo">Budo</option>
                <option value="dance">Dans</option>
                <option value="swim">Zwemmen</option>
                <option value="group">Groepslessen</option>
            </select>
            <input type="text" id="newLessonTeacher" placeholder="Docent" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            <input type="time" id="newLessonStartTime" placeholder="Starttijd" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            <input type="number" id="newLessonDuration" placeholder="Duur (min)" min="1" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            <input type="text" id="newLessonRoom" placeholder="Lokaal/Ruimte" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            <input type="number" id="newLessonTotalPlaces" placeholder="Totaal aantal plaatsen" min="1" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            <textarea id="newLessonExplanation" placeholder="Uitleg (voor leden)" rows="2" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200"></textarea>
            <textarea id="newLessonTeacherNotes" placeholder="Notities (alleen voor docent)" rows="2" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200"></textarea>
            <input type="text" id="newLessonDocs" placeholder="Document URL (optioneel)" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200">Les Toevoegen</button>
        </form>
    </div>

    <!-- Hoofdinhoud: Kalender voor lesrooster -->
    <div class="main-content flex-grow bg-gray-800 p-4 rounded-lg shadow-md overflow-y-auto">
        <h2 class="text-xl font-bold text-gray-100 border-b border-gray-700 pb-2 mb-4">Lesrooster</h2>

        <div class="flex justify-between items-center mb-4">
            <button id="prevWeekBtn" class="bg-gray-700 hover:bg-gray-600 text-gray-200 font-bold py-2 px-4 rounded-md"><i class="fas fa-chevron-left"></i> Vorige Week</button>
            <span id="currentWeekDisplay" class="text-lg font-semibold text-gray-100">Week --</span>
            <button id="nextWeekBtn" class="bg-gray-700 hover:bg-gray-600 text-gray-200 font-bold py-2 px-4 rounded-md">Volgende Week <i class="fas fa-chevron-right"></i></button>
        </div>

        <div class="calendar-grid-lesson">
            <div class="calendar-header-day text-gray-400">Maandag</div>
            <div class="calendar-header-day text-gray-400">Dinsdag</div>
            <div class="calendar-header-day text-gray-400">Woensdag</div>
            <div class="calendar-header-day text-gray-400">Donderdag</div>
            <div class="calendar-header-day text-gray-400">Vrijdag</div>
            <div class="calendar-header-day text-gray-400">Zaterdag</div>
            <div class="calendar-header-day text-gray-400">Zondag</div>

            <!-- Dagen van de week, nu met scrollbare inhoud -->
            <div class="calendar-day-cell-lesson" data-day-of-week="Maandag">
                <div class="lesson-drop-zone drop-zone h-full min-h-[100px] p-2 overflow-y-auto">
                    <p class="text-gray-500 text-sm">Sleep lessen hierheen</p>
                </div>
            </div>
            <div class="calendar-day-cell-lesson" data-day-of-week="Dinsdag">
                <div class="lesson-drop-zone drop-zone h-full min-h-[100px] p-2 overflow-y-auto">
                    <p class="text-gray-500 text-sm">Sleep lessen hierheen</p>
                </div>
            </div>
            <div class="calendar-day-cell-lesson" data-day-of-week="Woensdag">
                <div class="lesson-drop-zone drop-zone h-full min-h-[100px] p-2 overflow-y-auto">
                    <p class="text-gray-500 text-sm">Sleep lessen hierheen</p>
                </div>
            </div>
            <div class="calendar-day-cell-lesson" data-day-of-week="Donderdag">
                <div class="lesson-drop-zone drop-zone h-full min-h-[100px] p-2 overflow-y-auto">
                    <p class="text-gray-500 text-sm">Sleep lessen hierheen</p>
                </div>
            </div>
            <div class="calendar-day-cell-lesson" data-day-of-week="Vrijdag">
                <div class="lesson-drop-zone drop-zone h-full min-h-[100px] p-2 overflow-y-auto">
                    <p class="text-gray-500 text-sm">Sleep lessen hierheen</p>
                </div>
            </div>
            <div class="calendar-day-cell-lesson" data-day-of-week="Zaterdag">
                <div class="lesson-drop-zone drop-zone h-full min-h-[100px] p-2 overflow-y-auto">
                    <p class="text-gray-500 text-sm">Sleep lessen hierheen</p>
                </div>
            </div>
            <div class="calendar-day-cell-lesson" data-day-of-week="Zondag">
                <div class="lesson-drop-zone drop-zone h-full min-h-[100px] p-2 overflow-y-auto">
                    <p class="text-gray-500 text-sm">Sleep lessen hierheen</p>
                </div>
            </div>
        </div>

        <div class="flex flex-col md:flex-row gap-2 mt-4">
            <button id="copyLessonBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200 flex-grow">
                <i class="fas fa-copy mr-2"></i>Kopieer Les
            </button>
            <button id="copyWeekBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200 flex-grow">
                <i class="fas fa-calendar-alt mr-2"></i>Kopieer Hele Week
            </button>
        </div>
        <button id="saveLessonScheduleBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition-colors duration-200 w-full mt-2">
            <i class="fas fa-save mr-2"></i>Sla Lesrooster op
        </button>
    </div>
</div>

<div id="message-box" class="message-box"></div>

<!-- Modal voor Kopiëren Les -->
<div id="copyLessonModal" class="modal-overlay">
    <div class="modal-content">
        <button id="copyLessonModalCloseBtn" class="modal-close-btn">X</button>
        <h3 class="modal-title">Kopieer Les</h3>
        <p class="modal-body-text">Kies de dagen en/of weken waarnaar u de les wilt kopiëren.</p>
        <div class="flex flex-col gap-3">
            <div class="flex flex-col">
                <label for="copyLessonTargetDays" class="text-sm font-medium text-gray-400 mb-1">Kies Dagen (Ctrl/Cmd + klik voor meerdere):</label>
                <select id="copyLessonTargetDays" multiple class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200 h-24">
                    <option value="Maandag">Maandag</option>
                    <option value="Dinsdag">Dinsdag</option>
                    <option value="Woensdag">Woensdag</option>
                    <option value="Donderdag">Donderdag</option>
                    <option value="Vrijdag">Vrijdag</option>
                    <option value="Zaterdag">Zaterdag</option>
                    <option value="Zondag">Zondag</option>
                </select>
            </div>
            <div class="flex flex-col">
                <label for="copyLessonTargetWeeks" class="text-sm font-medium text-gray-400 mb-1">Kopieer voor de volgende X weken:</label>
                <input type="number" id="copyLessonTargetWeeks" min="0" value="0" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            </div>
        </div>
        <div class="modal-button-group">
            <button id="confirmCopyLessonBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md">Kopieer</button>
        </div>
    </div>
</div>

<!-- Modal voor Kopiëren Week -->
<div id="copyWeekModal" class="modal-overlay">
    <div class="modal-content">
        <button id="copyWeekModalCloseBtn" class="modal-close-btn">X</button>
        <h3 class="modal-title">Kopieer Hele Week</h3>
        <p class="modal-body-text">Kopieer de huidige weekplanning naar de volgende X weken.</p>
        <div class="flex flex-col gap-3">
            <div class="flex flex-col">
                <label for="copyWeekTargetWeeks" class="text-sm font-medium text-gray-400 mb-1">Kopieer voor de volgende X weken:</label>
                <input type="number" id="copyWeekTargetWeeks" min="1" value="1" class="p-2 rounded-md bg-gray-700 border border-gray-600 text-gray-200">
            </div>
        </div>
        <div class="modal-button-group">
            <button id="confirmCopyWeekBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md">Kopieer</button>
        </div>
    </div>
</div>
